"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[40036],{40036:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var r=n(65043),i=n(23927),a=n(91686),o=n(89073),l=n(42261),s=n(6051),d=n(99905),c=n(98139),p=n.n(c),u=n(58168),g=n(60436),h=n(5544),f=n(82284),m=n(28678),y=n(97907),v=n(53986),b=n(62149),x=n(89379),$=n(64467),A=n(50541),w=n(25001),C=r.forwardRef(function(e,t){var n=e.prefixCls,i=e.forceRender,a=e.className,o=e.style,l=e.children,s=e.isActive,d=e.role,c=e.classNames,u=e.styles,g=r.useState(s||i),f=(0,h.A)(g,2),m=f[0],y=f[1];return r.useEffect(function(){(i||s)&&y(!0)},[i,s]),m?r.createElement("div",{ref:t,className:p()("".concat(n,"-content"),(0,$.A)((0,$.A)({},"".concat(n,"-content-active"),s),"".concat(n,"-content-inactive"),!s),a),style:o,role:d},r.createElement("div",{className:p()("".concat(n,"-content-box"),null===c||void 0===c?void 0:c.body),style:null===u||void 0===u?void 0:u.body},l)):null});C.displayName="PanelContent";const k=C;var j=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"];const I=r.forwardRef(function(e,t){var n=e.showArrow,i=void 0===n||n,a=e.headerClass,o=e.isActive,l=e.onItemClick,s=e.forceRender,d=e.className,c=e.classNames,g=void 0===c?{}:c,h=e.styles,f=void 0===h?{}:h,m=e.prefixCls,y=e.collapsible,b=e.accordion,C=e.panelKey,I=e.extra,E=e.header,S=e.expandIcon,N=e.openMotion,M=e.destroyInactivePanel,z=e.children,P=(0,v.A)(e,j),R="disabled"===y,O=null!==I&&void 0!==I&&"boolean"!==typeof I,H=(0,$.A)((0,$.A)((0,$.A)({onClick:function(){null===l||void 0===l||l(C)},onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==w.A.ENTER&&e.which!==w.A.ENTER||null===l||void 0===l||l(C)},role:b?"tab":"button"},"aria-expanded",o),"aria-disabled",R),"tabIndex",R?-1:0),B="function"===typeof S?S(e):r.createElement("i",{className:"arrow"}),q=B&&r.createElement("div",(0,u.A)({className:"".concat(m,"-expand-icon")},["header","icon"].includes(y)?H:{}),B),L=p()("".concat(m,"-item"),(0,$.A)((0,$.A)({},"".concat(m,"-item-active"),o),"".concat(m,"-item-disabled"),R),d),T=p()(a,"".concat(m,"-header"),(0,$.A)({},"".concat(m,"-collapsible-").concat(y),!!y),g.header),V=(0,x.A)({className:T,style:f.header},["header","icon"].includes(y)?{}:H);return r.createElement("div",(0,u.A)({},P,{ref:t,className:L}),r.createElement("div",V,i&&q,r.createElement("span",(0,u.A)({className:"".concat(m,"-header-text")},"header"===y?H:{}),E),O&&r.createElement("div",{className:"".concat(m,"-extra")},I)),r.createElement(A.Ay,(0,u.A)({visible:o,leavedClassName:"".concat(m,"-content-hidden")},N,{forceRender:s,removeOnLeave:M}),function(e,t){var n=e.className,i=e.style;return r.createElement(k,{ref:t,prefixCls:m,className:n,classNames:g,style:i,styles:f,isActive:o,forceRender:s,role:b?"tabpanel":void 0},z)}))});var E=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];const S=function(e,t,n){return Array.isArray(e)?function(e,t){var n=t.prefixCls,i=t.accordion,a=t.collapsible,o=t.destroyInactivePanel,l=t.onItemClick,s=t.activeKey,d=t.openMotion,c=t.expandIcon;return e.map(function(e,t){var p=e.children,g=e.label,h=e.key,f=e.collapsible,m=e.onItemClick,y=e.destroyInactivePanel,b=(0,v.A)(e,E),x=String(null!==h&&void 0!==h?h:t),$=null!==f&&void 0!==f?f:a,A=null!==y&&void 0!==y?y:o,w=!1;return w=i?s[0]===x:s.indexOf(x)>-1,r.createElement(I,(0,u.A)({},b,{prefixCls:n,key:x,panelKey:x,isActive:w,accordion:i,openMotion:d,expandIcon:c,header:g,collapsible:$,onItemClick:function(e){"disabled"!==$&&(l(e),null===m||void 0===m||m(e))},destroyInactivePanel:A}),p)})}(e,n):(0,b.A)(t).map(function(e,t){return function(e,t,n){if(!e)return null;var i=n.prefixCls,a=n.accordion,o=n.collapsible,l=n.destroyInactivePanel,s=n.onItemClick,d=n.activeKey,c=n.openMotion,p=n.expandIcon,u=e.key||String(t),g=e.props,h=g.header,f=g.headerClass,m=g.destroyInactivePanel,y=g.collapsible,v=g.onItemClick,b=!1;b=a?d[0]===u:d.indexOf(u)>-1;var x=null!==y&&void 0!==y?y:o,$={key:u,panelKey:u,header:h,headerClass:f,isActive:b,prefixCls:i,destroyInactivePanel:null!==m&&void 0!==m?m:l,openMotion:c,accordion:a,children:e.props.children,onItemClick:function(e){"disabled"!==x&&(s(e),null===v||void 0===v||v(e))},expandIcon:p,collapsible:x};return"string"===typeof e.type?e:(Object.keys($).forEach(function(e){"undefined"===typeof $[e]&&delete $[e]}),r.cloneElement(e,$))}(e,t,n)})};var N=n(48060);function M(e){var t=e;if(!Array.isArray(t)){var n=(0,f.A)(t);t="number"===n||"string"===n?[t]:[]}return t.map(function(e){return String(e)})}var z=r.forwardRef(function(e,t){var n=e.prefixCls,i=void 0===n?"rc-collapse":n,a=e.destroyInactivePanel,o=void 0!==a&&a,l=e.style,s=e.accordion,d=e.className,c=e.children,f=e.collapsible,v=e.openMotion,b=e.expandIcon,x=e.activeKey,$=e.defaultActiveKey,A=e.onChange,w=e.items,C=p()(i,d),k=(0,m.A)([],{value:x,onChange:function(e){return null===A||void 0===A?void 0:A(e)},defaultValue:$,postState:M}),j=(0,h.A)(k,2),I=j[0],E=j[1];(0,y.Ay)(!c,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var z=S(w,c,{prefixCls:i,accordion:s,openMotion:v,expandIcon:b,collapsible:f,destroyInactivePanel:o,onItemClick:function(e){return E(function(){return s?I[0]===e?[]:[e]:I.indexOf(e)>-1?I.filter(function(t){return t!==e}):[].concat((0,g.A)(I),[e])})},activeKey:I});return r.createElement("div",(0,u.A)({ref:t,className:C,style:l,role:s?"tablist":void 0},(0,N.A)(e,{aria:!0,data:!0})),z)});const P=Object.assign(z,{Panel:I}),R=P;P.Panel;var O=n(18574),H=n(83290),B=n(12701),q=n(35296),L=n(89122);const T=r.forwardRef((e,t)=>{const{getPrefixCls:n}=r.useContext(q.QO),{prefixCls:i,className:a,showArrow:o=!0}=e,l=n("collapse",i),s=p()({[`${l}-no-arrow`]:!o},a);return r.createElement(R.Panel,Object.assign({ref:t},e,{prefixCls:l,className:s}))});var V=n(43944),K=n(94414),D=n(37770),G=n(78855),F=n(78446);const J=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:i,headerPadding:a,collapseHeaderPaddingSM:o,collapseHeaderPaddingLG:l,collapsePanelBorderRadius:s,lineWidth:d,lineType:c,colorBorder:p,colorText:u,colorTextHeading:g,colorTextDisabled:h,fontSizeLG:f,lineHeight:m,lineHeightLG:y,marginSM:v,paddingSM:b,paddingLG:x,paddingXS:$,motionDurationSlow:A,fontSizeIcon:w,contentPadding:C,fontHeight:k,fontHeightLG:j}=e,I=`${(0,V.zA)(d)} ${c} ${p}`;return{[t]:Object.assign(Object.assign({},(0,K.dF)(e)),{backgroundColor:i,border:I,borderRadius:s,"&-rtl":{direction:"rtl"},[`& > ${t}-item`]:{borderBottom:I,"&:first-child":{[`\n            &,\n            & > ${t}-header`]:{borderRadius:`${(0,V.zA)(s)} ${(0,V.zA)(s)} 0 0`}},"&:last-child":{[`\n            &,\n            & > ${t}-header`]:{borderRadius:`0 0 ${(0,V.zA)(s)} ${(0,V.zA)(s)}`}},[`> ${t}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:a,color:g,lineHeight:m,cursor:"pointer",transition:`all ${A}, visibility 0s`},(0,K.K8)(e)),{[`> ${t}-header-text`]:{flex:"auto"},[`${t}-expand-icon`]:{height:k,display:"flex",alignItems:"center",paddingInlineEnd:v},[`${t}-arrow`]:Object.assign(Object.assign({},(0,K.Nk)()),{fontSize:w,transition:`transform ${A}`,svg:{transition:`transform ${A}`}}),[`${t}-header-text`]:{marginInlineEnd:"auto"}}),[`${t}-collapsible-header`]:{cursor:"default",[`${t}-header-text`]:{flex:"none",cursor:"pointer"}},[`${t}-collapsible-icon`]:{cursor:"unset",[`${t}-expand-icon`]:{cursor:"pointer"}}},[`${t}-content`]:{color:u,backgroundColor:n,borderTop:I,[`& > ${t}-content-box`]:{padding:C},"&-hidden":{display:"none"}},"&-small":{[`> ${t}-item`]:{[`> ${t}-header`]:{padding:o,paddingInlineStart:$,[`> ${t}-expand-icon`]:{marginInlineStart:e.calc(b).sub($).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:b}}},"&-large":{[`> ${t}-item`]:{fontSize:f,lineHeight:y,[`> ${t}-header`]:{padding:l,paddingInlineStart:r,[`> ${t}-expand-icon`]:{height:j,marginInlineStart:e.calc(x).sub(r).equal()}},[`> ${t}-content > ${t}-content-box`]:{padding:x}}},[`${t}-item:last-child`]:{borderBottom:0,[`> ${t}-content`]:{borderRadius:`0 0 ${(0,V.zA)(s)} ${(0,V.zA)(s)}`}},[`& ${t}-item-disabled > ${t}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:h,cursor:"not-allowed"}},[`&${t}-icon-position-end`]:{[`& > ${t}-item`]:{[`> ${t}-header`]:{[`${t}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:v}}}}})}},W=e=>{const{componentCls:t}=e,n=`> ${t}-item > ${t}-header ${t}-arrow`;return{[`${t}-rtl`]:{[n]:{transform:"rotate(180deg)"}}}},X=e=>{const{componentCls:t,headerBg:n,borderlessContentPadding:r,borderlessContentBg:i,colorBorder:a}=e;return{[`${t}-borderless`]:{backgroundColor:n,border:0,[`> ${t}-item`]:{borderBottom:`1px solid ${a}`},[`\n        > ${t}-item:last-child,\n        > ${t}-item:last-child ${t}-header\n      `]:{borderRadius:0},[`> ${t}-item:last-child`]:{borderBottom:0},[`> ${t}-item > ${t}-content`]:{backgroundColor:i,borderTop:0},[`> ${t}-item > ${t}-content > ${t}-content-box`]:{padding:r}}}},_=e=>{const{componentCls:t,paddingSM:n}=e;return{[`${t}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${t}-item`]:{borderBottom:0,[`> ${t}-content`]:{backgroundColor:"transparent",border:0,[`> ${t}-content-box`]:{paddingBlock:n}}}}}},Y=(0,G.OF)("Collapse",e=>{const t=(0,F.oX)(e,{collapseHeaderPaddingSM:`${(0,V.zA)(e.paddingXS)} ${(0,V.zA)(e.paddingSM)}`,collapseHeaderPaddingLG:`${(0,V.zA)(e.padding)} ${(0,V.zA)(e.paddingLG)}`,collapsePanelBorderRadius:e.borderRadiusLG});return[J(t),X(t),_(t),W(t),(0,D.A)(t)]},e=>({headerPadding:`${e.paddingSM}px ${e.padding}px`,headerBg:e.colorFillAlter,contentPadding:`${e.padding}px 16px`,contentBg:e.colorBgContainer,borderlessContentPadding:`${e.paddingXXS}px 16px ${e.padding}px`,borderlessContentBg:"transparent"})),Q=r.forwardRef((e,t)=>{const{getPrefixCls:n,direction:i,expandIcon:a,className:o,style:l}=(0,q.TP)("collapse"),{prefixCls:s,className:c,rootClassName:u,style:g,bordered:h=!0,ghost:f,size:m,expandIconPosition:y="start",children:v,destroyInactivePanel:x,destroyOnHidden:$,expandIcon:A}=e,w=(0,L.A)(e=>{var t;return null!==(t=null!==m&&void 0!==m?m:e)&&void 0!==t?t:"middle"}),C=n("collapse",s),k=n(),[j,I,E]=Y(C);const S=r.useMemo(()=>"left"===y?"start":"right"===y?"end":y,[y]),N=null!==A&&void 0!==A?A:a,M=r.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="function"===typeof N?N(e):r.createElement(d.A,{rotate:e.isActive?"rtl"===i?-90:90:void 0,"aria-label":e.isActive?"expanded":"collapsed"});return(0,B.Ob)(t,()=>{var e;return{className:p()(null===(e=t.props)||void 0===e?void 0:e.className,`${C}-arrow`)}})},[N,C,i]),z=p()(`${C}-icon-position-${S}`,{[`${C}-borderless`]:!h,[`${C}-rtl`]:"rtl"===i,[`${C}-ghost`]:!!f,[`${C}-${w}`]:"middle"!==w},o,c,u,I,E),P=r.useMemo(()=>Object.assign(Object.assign({},(0,H.A)(k)),{motionAppear:!1,leavedClassName:`${C}-content-hidden`}),[k,C]),T=r.useMemo(()=>v?(0,b.A)(v).map((e,t)=>{var n,r;const i=e.props;if(null===i||void 0===i?void 0:i.disabled){const a=null!==(n=e.key)&&void 0!==n?n:String(t),o=Object.assign(Object.assign({},(0,O.A)(e.props,["disabled"])),{key:a,collapsible:null!==(r=i.collapsible)&&void 0!==r?r:"disabled"});return(0,B.Ob)(e,o)}return e}):null,[v]);return j(r.createElement(R,Object.assign({ref:t,openMotion:P},(0,O.A)(e,["rootClassName"]),{expandIcon:M,prefixCls:C,className:z,style:Object.assign(Object.assign({},l),g),destroyInactivePanel:null!==$&&void 0!==$?$:x}),T))});const U=Object.assign(Q,{Panel:T});var Z=n(81661),ee=(n(63475),n(70579));const{Title:te,Text:ne}=i.A,re=()=>(0,ee.jsx)("div",{style:{padding:"20px",textAlign:"center",minHeight:"200px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ee.jsx)(a.A,{size:"large",tip:"Loading visualization gallery..."})}),ie=[{name:"Interactive Multi-Line Chart",description:"Time series with interactive legend and zoom",spec:{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:600,height:300,data:{name:"timeseries",values:Array.from({length:50},(e,t)=>({date:new Date(2023,0,t+1).toISOString().slice(0,10),series1:10*Math.sin(t/10)+5*Math.random()+20,series2:8*Math.cos(t/10)+3*Math.random()+15,series3:15*Math.sin(t/15)+4*Math.random()+25}))},transform:[{fold:["series1","series2","series3"]}],selection:{series:{type:"multi",fields:["key"],bind:"legend"}},mark:{type:"line",point:!0},encoding:{x:{field:"date",type:"temporal",scale:{type:"time"}},y:{field:"value",type:"quantitative",scale:{zero:!1}},color:{field:"key",type:"nominal"},opacity:{condition:{selection:"series",value:1},value:.2}}}},{name:"Brushing & Linking Example",description:"Interactive scatter plot with linked histogram",spec:{$schema:"https://vega.github.io/schema/vega-lite/v5.json",vconcat:[{width:600,height:300,data:{name:"scatter",values:Array.from({length:100},()=>({x:100*Math.random(),y:100*Math.random(),category:["A","B","C"][Math.floor(3*Math.random())]}))},selection:{brush:{type:"interval"}},mark:"circle",encoding:{x:{field:"x",type:"quantitative"},y:{field:"y",type:"quantitative"},color:{condition:{selection:"brush",field:"category",type:"nominal"},value:"grey"}}},{width:600,height:100,transform:[{filter:{selection:"brush"}}],mark:"bar",encoding:{x:{field:"category",type:"nominal"},y:{aggregate:"count"},color:{field:"category",type:"nominal"}}}]}},{name:"Advanced Heatmap with Tooltip",description:"Interactive heatmap with custom color scheme and tooltips",spec:{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:600,height:400,data:{name:"heatmap",values:Array.from({length:100},(e,t)=>({x:Math.floor(t/10),y:t%10,value:Math.sin(t/15)*Math.cos(t/10)*50+50}))},mark:"rect",encoding:{x:{field:"x",type:"ordinal",title:"X Axis"},y:{field:"y",type:"ordinal",title:"Y Axis"},color:{field:"value",type:"quantitative",scale:{scheme:"viridis",domain:[0,100]}},tooltip:[{field:"x",type:"ordinal"},{field:"y",type:"ordinal"},{field:"value",type:"quantitative",format:".2f"}]},config:{axis:{grid:!0},view:{strokeWidth:0}}}},{name:"Stacked Area Chart with Streamgraph",description:"Animated transition between stacked and streamgraph layouts",spec:{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:600,height:300,data:{values:Array.from({length:150},(e,t)=>({time:new Date(2023,0,Math.floor(t/5)+1).toISOString().slice(0,10),category:"Category "+(t%5+1),value:Math.sin(t/10)*Math.cos(t/20)*20+10*Math.random()+30}))},selection:{layout:{type:"single",fields:["layout"],bind:{input:"radio",options:["stacked","streamgraph"],name:"Layout: "},init:{layout:"stacked"}}},mark:"area",encoding:{x:{field:"time",type:"temporal",title:"Time"},y:{field:"value",type:"quantitative",title:"Value",stack:{offset:{condition:{selection:"layout",value:"normalize"},value:"zero"}}},color:{field:"category",type:"nominal",scale:{scheme:"category10"}},tooltip:[{field:"time",type:"temporal"},{field:"category",type:"nominal"},{field:"value",type:"quantitative"}]}}},{name:"Radial Chart with Interaction",description:"Interactive radial visualization with hover effects",spec:{$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:400,height:400,data:{values:Array.from({length:24},(e,t)=>({hour:t,value:10*Math.sin(t/4)+5*Math.random()+15}))},mark:{type:"arc",innerRadius:80},encoding:{theta:{field:"hour",type:"quantitative",scale:{domain:[0,24]}},radius:{field:"value",type:"quantitative",scale:{type:"sqrt"}},color:{field:"value",type:"quantitative",scale:{scheme:"viridis"}},tooltip:[{field:"hour",type:"quantitative",title:"Hour"},{field:"value",type:"quantitative",title:"Value"}]},view:{stroke:null}}}];class ae extends r.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){this.props.onError(e)}render(){return this.state.hasError?null:this.props.children}}const oe=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(null),a=(0,ee.jsx)(o.A,{title:"Vega-Lite Visualization Gallery",extra:(0,ee.jsx)(l.A,{message:"Click examples to load them one at a time",type:"info",showIcon:!0,style:{marginBottom:0}}),children:(0,ee.jsxs)(s.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,ee.jsx)(te,{level:4,children:"Advanced Vega-Lite Visualization Examples"}),(0,ee.jsx)(U,{accordion:!0,activeKey:e,onChange:e=>t("string"===typeof e?[e]:e),children:ie.map((e,t)=>(0,ee.jsxs)(U.Panel,{header:(0,ee.jsxs)(s.A,{children:[(0,ee.jsx)(ne,{strong:!0,children:e.name}),(0,ee.jsx)(ne,{type:"secondary",children:e.description})]}),children:[(0,ee.jsx)(ae,{onError:e=>{console.error("Visualization error:",e),i(e.message)},children:n?(0,ee.jsx)(l.A,{message:"Error Loading Visualization",description:n,type:"error",closable:!0,onClose:()=>i(null)}):(0,ee.jsx)("div",{style:{padding:"20px 0"},children:(0,ee.jsx)(Z.J,{spec:JSON.stringify(e.spec),width:800,containerId:`viz-${e.name.toLowerCase().replace(/\s+/g,"-")}-${t}`,height:400},`viz-${e.name.toLowerCase().replace(/\s+/g,"-")}-${t}`)})}),(0,ee.jsxs)("details",{style:{marginTop:16},children:[(0,ee.jsx)("summary",{children:"View Specification"}),(0,ee.jsx)("pre",{style:{backgroundColor:"#f6f8fa",padding:16,borderRadius:4,marginTop:8},children:(0,ee.jsx)("code",{children:JSON.stringify(e.spec,null,2)})})]})]},String(t)))})]})});return(0,ee.jsx)(r.Suspense,{fallback:(0,ee.jsx)(re,{}),children:a})}},63475:()=>{},81661:(e,t,n)=>{n.d(t,{J:()=>p});var r=n(65043),i=n(79901),a=n(91686),o=n(66158),l=n(51252);const s=[{name:"network-diagram",priority:1,canHandle:e=>"object"===typeof e&&!e.render&&"network"===e.type&&Array.isArray(e.nodes)&&Array.isArray(e.links)&&e.nodes.length>0&&e.links.length>0&&e.nodes.every(e=>"string"===typeof e.id&&e.id)&&e.links.every(e=>"string"===typeof e.source&&"string"===typeof e.target),render:(e,t,n)=>{var r;if(console.debug("Network diagram plugin rendering:",n),!function(e){return"object"===typeof e&&"network"===e.type&&Array.isArray(e.nodes)&&Array.isArray(e.links)&&e.nodes.every(e=>"string"===typeof e.id)&&e.links.every(e=>"string"===typeof e.source&&"string"===typeof e.target)}(n))throw new Error("Invalid network diagram specification");console.debug("Network diagram render:",{nodeCount:n.nodes.length,linkCount:n.links.length,groupCount:null===(r=n.groups)||void 0===r?void 0:r.length});try{var i;const r=t.select(e).append("svg").attr("width",n.width).attr("height",n.height).attr("viewBox",[0,0,n.width,n.height]);if(null!==(i=n.groups)&&void 0!==i&&i.length){const e=r.selectAll(".board").data(n.groups).enter().append("g").attr("class","board").attr("transform","translate(0,0)");e.append("rect").attr("x",e=>"modem_board"===e.id?180:680).attr("y",50).attr("width",e=>"modem_board"===e.id?350:200).attr("height",500).attr("fill","none").attr("stroke","#666").attr("stroke-dasharray","5,5"),e.append("text").attr("x",e=>"modem_board"===e.id?200:700).attr("y",80).text(e=>e.label).attr("fill","#666")}}catch(a){throw console.error("Network diagram render error:",a),t.select(e).selectAll("*").remove(),a}}}];s.forEach(e=>{if(!e.name)throw new Error("Plugin missing required name property");if("number"!==typeof e.priority)throw new Error(`Plugin ${e.name} missing required priority number`);if("function"!==typeof e.canHandle)throw new Error(`Plugin ${e.name} missing required canHandle function`);if("function"!==typeof e.render)throw new Error(`Plugin ${e.name} missing required render function`)});const d=Object.freeze(s);var c=n(70579);const p=e=>{let{spec:t,width:n=600,height:s=400,containerId:p,type:u="auto",onLoad:g,onError:h,config:f}=e;const{isDarkMode:m}=(0,i.D)(),y=(0,r.useRef)(null),v=(0,r.useRef)(null),b=(0,r.useRef)(null),[x,$]=(0,r.useState)(!0),[A,w]=(0,r.useState)(null),[C,k]=(0,r.useState)([]),j=(0,r.useRef)(null),I=(0,r.useRef)(null),E=(0,r.useRef)(0),S=(0,r.useRef)(!0);(0,r.useEffect)(()=>()=>{if(console.debug("D3Renderer cleanup triggered"),b.current){try{b.current.finalize(),b.current=null}catch(e){}console.debug("Vega view finalized")}v.current&&(I.current&&(I.current.stop(),I.current=null),v.current.innerHTML="",j.current&&(j.current(),j.current=null))},[]),(0,r.useEffect)(()=>{const e=++E.current;console.debug(`Starting render #${e}`);const r=async()=>{$(!0);try{if(!t)throw new Error("No specification provided");let a,c;try{if("string"===typeof t){if(c=t.replace(/\r\n/g,"\n").split("\n").map(e=>e.trim()).filter(e=>!e.trim().startsWith("//")&&""!==e.trim()),!c.length||!c.some(e=>e.includes("}")))return void $(!0);const e=c.join("\n").replace(/\/\*[\s\S]*?\*\//g,"");a=JSON.parse(e)}else a=t}catch(r){return $(!0),void console.debug("Waiting for complete spec:",r)}if(!a)return;if("d3"===u||"d3"===a.renderer||"function"===typeof a.render){const t=v.current;if(!t)return;if(e!==E.current)return void console.debug(`Skipping stale render #${e}`);if(I.current)try{I.current.stop(),I.current=null}catch(i){console.warn("Error cleaning up simulation:",i)}const n=document.createElement("div");n.style.width="100%",n.style.height="100%";let r=!1;try{if(a.render&&"function"===typeof a.render){const e=a.render.call(a,n,l);r=!0,"function"===typeof e&&(j.current=e)}else{const e=function(e){if(e.visualizationType){const t=d.find(t=>t.name===e.visualizationType);if(t)return t}const t=d.filter(t=>t.canHandle(e)).sort((e,t)=>t.priority-e.priority);if(t.length>0)return console.debug(`Found ${t.length} matching plugins:`,t.map(e=>`${e.name} (priority: ${e.priority})`)),t[0]}(a);if(!e)throw new Error("No render function or compatible plugin found");e.render(n,l,a),r=!0}r&&(t.innerHTML="",t.appendChild(n))}catch(A){throw console.error("D3 render error:",A),w(A instanceof Error?A.message:"Render failed"),A}if(!r)throw new Error("Render did not complete successfully");return $(!1),w(null),void(null===g||void 0===g||g())}const p=y.current;if(!p)return;const h={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:n||"container",height:s||300,mark:a.type||"point",data:{values:Array.isArray(a.data)?a.data:[a.data]},encoding:a.encoding||{x:{field:"x",type:"quantitative"},y:{field:"y",type:"quantitative"}},...a};b.current&&(b.current.finalize(),b.current=null),console.debug("Rendering Vega spec:",h);const f=await(0,o.Ay)(p,h,{actions:!1,theme:m?"dark":"excel",renderer:"canvas"});if(!S.current)return void f.view.finalize();b.current=f.view,$(!1),null===g||void 0===g||g()}catch(i){console.error("Visualization error:",i),"Unexpected end of JSON input"!==i.message&&(w(i.message),k([i.message])),$(!1)}};return S.current&&r(),()=>{S.current=!1}},[t,u,n,s,m]);const N="d3"===u||"object"===typeof t&&("d3"===t.renderer||"function"===typeof t.render);return(0,c.jsx)("div",{id:p||"d3-container",style:{width:"100%",height:s||"300px",minHeight:"200px",padding:"16px",position:"relative"},children:N?(0,c.jsx)("div",{ref:v,className:"d3-container",style:{width:"100%",height:"100%",position:"relative"}}):(0,c.jsxs)("div",{ref:y,id:"vega-container",style:{position:"relative",width:"100%",height:s||"100%"},children:[(x||!t)&&(0,c.jsxs)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.1)"},children:[(0,c.jsx)(a.A,{size:"large"}),(0,c.jsx)("div",{style:{marginTop:"10px",color:m?"#ffffff":"#000000"},children:"Preparing visualization..."})]}),A&&(0,c.jsxs)("pre",{style:{padding:"16px",margin:"8px",backgroundColor:m?"#2a1215":"#fff1f0",border:"1px solid "+(m?"#5c2223":"#ffa39e"),borderRadius:"4px",color:m?"#ff4d4f":"#cf1322",whiteSpace:"pre-wrap",wordWrap:"break-word",maxHeight:"200px",overflowY:"auto",fontSize:"14px",lineHeight:"1.5",fontFamily:"monospace"},children:[(0,c.jsx)("strong",{children:"Error:"}),C.map((e,t)=>(0,c.jsx)("div",{children:e},t))]})]})})}}}]);
//# sourceMappingURL=40036.da6856ed.chunk.js.map